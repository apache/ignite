<Project>
    <PropertyGroup Condition="Exists('$(MSBuildThisFileDirectory)..\bin\Apache.Ignite.Core.dll')">
        <IgniteBinaryDistro>true</IgniteBinaryDistro>
    </PropertyGroup>

    <!-- Dev mode is enabled when sources are present and were built. -->
    <PropertyGroup Condition="Exists('$(MSBuildThisFileDirectory)..\Apache.Ignite.Core\Ignition.cs') And Exists('$(MSBuildThisFileDirectory)..\Apache.Ignite.Core\bin')">
        <IgniteDevMode>true</IgniteDevMode>
    </PropertyGroup>

    <ItemGroup Condition="$(IgniteDevMode) == 'true'">
        <ProjectReference Include="$(MSBuildThisFileDirectory)..\Apache.Ignite.Core\Apache.Ignite.Core.DotNetCore.csproj" />
        <ProjectReference Include="$(MSBuildThisFileDirectory)..\Apache.Ignite.Linq\Apache.Ignite.Linq.DotNetCore.csproj" />
    </ItemGroup>

    <ItemGroup Condition="$(IgniteBinaryDistro) == 'true' And $(IgniteDevMode) == ''">
        <Reference Include="Apache.Ignite.Core">
            <HintPath>$(MSBuildThisFileDirectory)..\bin\Apache.Ignite.Core.dll</HintPath>
        </Reference>
        <Reference Include="Apache.Ignite.Linq">
            <HintPath>$(MSBuildThisFileDirectory)..\bin\Apache.Ignite.Linq.dll</HintPath>
        </Reference>
    </ItemGroup>

</Project>
