<Project>
    <PropertyGroup Condition="Exists('..\bin\Apache.Ignite.Core.dll')">
        <DefineConstants>$(DefineConstants);COMMERCIAL_LOCKING;ENCRYPT_DB</DefineConstants>
    </PropertyGroup>

    <PropertyGroup Condition="Exists('..\bin\Apache.Ignite.Core.dll')">
        <IgniteBinaryDistro>true</IgniteBinaryDistro>
    </PropertyGroup>

    <PropertyGroup Condition="Exists('..\Apache.Ignite.Core\Ignition.cs')">
        <IgniteSourceDistro>true</IgniteSourceDistro>
    </PropertyGroup>

    <ItemGroup Condition="$(IgniteBinaryDistro) == 'true'">
        <Reference Include="Apache.Ignite.Core">
            <HintPath>$(MSBuildThisFileDirectory)..\bin\Apache.Ignite.Core.dll</HintPath>
        </Reference>
        <Reference Include="Apache.Ignite.Linq">
            <HintPath>$(MSBuildThisFileDirectory)..\bin\Apache.Ignite.Linq.dll</HintPath>
        </Reference>
    </ItemGroup>

    <ItemGroup Condition="$(IgniteBinaryDistro) == '' And $(IgniteSourceDistro) == 'true'">
        <ProjectReference Include="$(MSBuildThisFileDirectory)..\Apache.Ignite.Core\Apache.Ignite.Core.DotNetCore.csproj" />
        <ProjectReference Include="$(MSBuildThisFileDirectory)..\Apache.Ignite.Linq\Apache.Ignite.Linq.DotNetCore.csproj" />
    </ItemGroup>
</Project>
