//-
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

- var model = 'backupItem.binaryConfiguration'
- var types = model + '.typeConfigurations'

form.panel.panel-default(name='binary' novalidate)
    .panel-heading(bs-collapse-toggle ng-click='__show__ = true')
        ignite-form-panel-chevron
        label Binary configuration
        ignite-form-field-tooltip.tipLabel
            | Configuration for Ignite Binary Objects
        ignite-form-revert
    .panel-collapse(role='tabpanel' bs-collapse-target id='binary')
        .panel-body(ng-if='__show__')
            .col-sm-6
                .settings-row
                    ignite-form-field
                        ignite-form-field-label
                            | ID mapper:
                        ignite-form-field-tooltip
                            | Maps given from BinaryNameMapper type and filed name to ID that will be used by Ignite in internals#[br]
                            | Ignite never writes full strings for field or type names. Instead, for performance reasons, Ignite writes integer hash codes for type/class and field names. It has been tested that hash code conflicts for the type/class names or the field names within the same type are virtually non-existent and, to gain performance, it is safe to work with hash codes. For the cases when hash codes for different types or fields actually do collide #[b BinaryIdMapper] allows to override the automatically generated hash code IDs for the type and field names
                        ignite-form-field-java-class(
                            data-id='idMapper'
                            data-name='idMapper'
                            data-ng-model='#{model}.idMapper'
                        )
                .settings-row
                    ignite-form-field
                        ignite-form-field-label
                            | Name mapper:
                        ignite-form-field-tooltip
                            | Maps type/class and field names to different names#[br]
                        ignite-form-field-java-class(
                            data-id='nameMapper'
                            data-name='nameMapper'
                            data-ng-model='#{model}.nameMapper'
                        )
                .settings-row
                    ignite-form-field
                        ignite-form-field-label
                            | Serializer:
                        ignite-form-field-tooltip
                            | Class with custom serialization logic for binary objects
                        ignite-form-field-java-class(
                            data-id='serializer'
                            data-name='serializer'
                            data-ng-model='#{model}.serializer'
                        )
                .settings-row
                    ignite-form-group(ng-form='typeConfigurations' ng-model='#{types}')
                        ignite-form-field-label
                            | Type configurations
                        ignite-form-group-tooltip
                            | Configuration properties for binary types
                        ignite-form-group-add(ng-click='#{types}.push({})')
                            | Add new type configuration.
                        .group-content-empty(ng-if='!#{types}.length')
                            | Not defined
                        .group-content(ng-form='form' ng-repeat='model in #{types} track by $index')
                            hr(ng-if='$index !== 0')
                            .settings-row
                                ignite-form-field
                                    ignite-form-field-label
                                        | Type name:
                                    ignite-form-field-tooltip
                                        | Type name
                                    i.tipField.fa.fa-remove(
                                        bs-tooltip='"Remove type configuration"'
                                        ng-click='#{types}.splice(#{types}.indexOf(model), 1)'
                                    )
                                    ignite-form-field-java-class(
                                        data-id='typeName'
                                        data-name='typeName'
                                        data-ng-model='model.typeName'
                                        data-ng-required='true'
                                    )
                            .settings-row
                                ignite-form-field
                                    ignite-form-field-label
                                        | ID mapper:
                                    ignite-form-field-tooltip
                                        | Maps given from BinaryNameMapper type and filed name to ID that will be used by Ignite in internals#[br]
                                        | Ignite never writes full strings for field or type/class names. Instead, for performance reasons, Ignite writes integer hash codes for type/class and field names. It has been tested that hash code conflicts for the type/class names or the field names within the same type are virtually non-existent and, to gain performance, it is safe to work with hash codes. For the cases when hash codes for different types or fields actually do collide #[b BinaryIdMapper] allows to override the automatically generated hash code IDs for the type and field names
                                    ignite-form-field-java-class(
                                        data-id='idMapper'
                                        data-name='idMapper'
                                        data-ng-model='model.idMapper'
                                    )
                            .settings-row
                                ignite-form-field
                                    ignite-form-field-label
                                        | Name mapper:
                                    ignite-form-field-tooltip
                                        | Maps type/class and field names to different names#[br]
                                    ignite-form-field-java-class(
                                        data-id='nameMapper'
                                        data-name='nameMapper'
                                        data-ng-model='model.nameMapper'
                                    )
                            .settings-row
                                ignite-form-field
                                    ignite-form-field-label
                                        | Serializer:
                                    ignite-form-field-tooltip
                                        | Class with custom serialization logic for binary object
                                    ignite-form-field-java-class(
                                        data-id='serializer'
                                        data-name='serializer'
                                        data-ng-model='model.serializer'
                                    )
                            .settings-row
                                ignite-form-field.checkbox
                                    ignite-form-field-input-checkbox(
                                        data-id='enum'
                                        data-name='enum'
                                        data-ng-model='model.enum'
                                    )
                                    | Enum
                                    ignite-form-field-tooltip
                                        | Flag indicating that this type is the enum


                .settings-row
                    ignite-form-field.checkbox
                        ignite-form-field-input-checkbox(
                            data-id='compactFooter'
                            data-name='compactFooter'
                            data-ng-model='#{model}.compactFooter'
                        )
                        | Compact footer
                        ignite-form-field-tooltip
                            | When enabled, Ignite will not write fields metadata when serializing objects(this will increase serialization performance), because internally #[b BinaryMarshaller] already distribute metadata inside cluster
            ignite-ui-ace-tabs.col-sm-6
                .preview-panel(ng-init='mode = false')
                    .preview-legend
                        a(ng-class='{active: !mode, inactive: mode}' ng-click='mode = false') XML
                        | &nbsp;
                        a(ng-class='{active: mode, inactive: !mode}' ng-click='mode = true') Java
                    .preview-content(ng-if='mode')
                        ignite-ui-ace-java(data-cluster='backupItem' data-generator='clusterBinary' ng-model='$parent.data')
                    .preview-content(ng-if='!mode')
                        ignite-ui-ace-xml(data-cluster='backupItem' data-generator='clusterBinary' ng-model='$parent.data')
                    .preview-content-empty(ng-if='!data')
                        label All Defaults
