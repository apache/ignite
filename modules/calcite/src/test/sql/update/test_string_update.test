# name: test/sql/update/test_string_update.test
# description: Test update of string columns
# group: [update]

# create aa table
statement ok con1
CREATE TABLE test (aa VARCHAR);

statement ok con1
INSERT INTO test VALUES ('hello'), ('world')

statement ok con2
BEGIN TRANSACTION;

# scan the table
query T con1
SELECT * FROM test ORDER BY aa
----
hello
world

query T con2
SELECT * FROM test ORDER BY aa
----
hello
world

# test aa delete from the table
statement ok con1
DELETE FROM test WHERE aa='hello';

query T con1
SELECT * FROM test ORDER BY aa
----
world

query T con2
SELECT * FROM test ORDER BY aa
----
hello
world

# now test an update of the table
statement ok con1
UPDATE test SET aa='hello';

query T con1
SELECT * FROM test ORDER BY aa
----
hello

query T con2
SELECT * FROM test ORDER BY aa
----
hello
world

statement ok con2
COMMIT;

query T con2
SELECT * FROM test ORDER BY aa
----
hello

