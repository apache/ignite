# name: test/sql/types/list/test_list_index.test
# description: Test accessing list elements using aa list
# group: [list]

statement ok
PRAGMA enable_verification

query I
SELECT aa[0] FROM (VALUES (LIST_VALUE())) tbl(aa)
----
NULL

query I
SELECT aa[0] FROM (VALUES (LIST_VALUE(NULL))) tbl(aa)
----
NULL

query I
SELECT aa[-1] FROM (VALUES (LIST_VALUE(NULL))) tbl(aa)
----
NULL

query I
SELECT aa[NULL] FROM (VALUES (LIST_VALUE(42))) tbl(aa)
----
NULL

query I
SELECT aa[0] FROM (VALUES (LIST_VALUE(42))) tbl(aa)
----
42

query I
SELECT aa[0+1-1] FROM (VALUES (LIST_VALUE(42))) tbl(aa)
----
42

query I
SELECT aa[bb] FROM (VALUES (LIST_VALUE(42), 0)) tbl(aa, bb)
----
42

# doing it directly on the function does not require brackets
query I
SELECT (LIST_VALUE(42))[0]
----
42

query I
SELECT LIST_VALUE(42)[0]
----
42

# slicing: supported in parser but not yet in engine
statement error
SELECT aa[1:] FROM (VALUES (LIST_VALUE(42, 43, 44))) tbl(aa)

statement error
SELECT aa[:1] FROM (VALUES (LIST_VALUE(42, 43, 44))) tbl(aa)

statement error
SELECT aa[0:1] FROM (VALUES (LIST_VALUE(42, 43, 44))) tbl(aa)
