# name: test/sql/delete/test_delete.test
# description: Test deletions
# group: [delete]

statement ok
CREATE TABLE aa(ii INTEGER);

statement ok
INSERT INTO aa VALUES (42);

query I
SELECT COUNT(*) FROM aa;
----
1

# delete everything
statement ok
DELETE FROM aa;

query I
SELECT COUNT(*) FROM aa;
----
0

statement ok
INSERT INTO aa VALUES (42);

query I
SELECT COUNT(*) FROM aa;
----
1

# now test rollback of deletion
statement ok
BEGIN TRANSACTION

statement ok
DELETE FROM aa;

query I
SELECT COUNT(*) FROM aa;
----
0

statement ok
ROLLBACK

query I
SELECT COUNT(*) FROM aa;
----
1

