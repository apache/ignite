/* Copyright (c) 2013-2015 Richard Rodger, MIT License, https://github.com/rjrodger/jsonic */
"use strict";(function(){var t=this||{},r=t.jsonic,e=t.jsonic=function(t){return"[object String]"!==Object.prototype.toString.call(t)?Object.prototype.toString.call(t).match(/\[object (Object|Array)\]/)?t:""+t:("{"!=(t=t.trim())[0]&&"["!=t[0]&&(t="{"+t+"}"),u.parse(t))};e.noConflict=function(){return t.jsonic=r,e};var n,i,u=(n=Br,i=Error,o.prototype=i.prototype,n.prototype=new o,{SyntaxError:Br,parse:function(a){var t,r=1<arguments.length?arguments[1]:{},s={},e={start:gr},n=gr,l=s,i=function(t){return t},u=function(t){return t},o="{",c={type:"literal",value:"{",description:'"{"'},f="}",p={type:"literal",value:"}",description:'"}"'},h=function(){return{}},d=function(t){return t},v=null,A=",",y={type:"literal",value:",",description:'","'},g=function(t,r){var e={};t&&(e[t[0]]=Pr(t[1]));for(var n=0;n<r.length;n++)e[r[n][2][0]]=Pr(r[n][2][1]);return e},m=":",x={type:"literal",value:":",description:'":"'},C=function(t,r){return[t,r]},b="[",F={type:"literal",value:"[",description:'"["'},j="]",w={type:"literal",value:"]",description:'"]"'},O=function(){return[]},S=function(t){return t},R=function(t,r){var e=[];null!=t&&e.push(Pr(t));for(var n=0;n<r.length;n++)e.push(Pr(r[n][2]));return e},E="true",$={type:"literal",value:"true",description:'"true"'},N=function(){return!0},z="false",Z={type:"literal",value:"false",description:'"false"'},_=function(){return!1},k="null",q={type:"literal",value:"null",description:'"null"'},J=function(){return Jr},P=function(t){return t.join("").trim()},B={type:"other",description:"double-quote string"},I='"',U={type:"literal",value:'"',description:'"\\""'},D=function(){return""},G=function(t){return t},H={type:"other",description:"single-quote string"},K="'",L={type:"literal",value:"'",description:'"\'"'},M=function(t){return t.join("")},Q=/^[^"\\\0-\x1F]/,T={type:"class",value:'[^"\\\\\\0-\\x1F]',description:'[^"\\\\\\0-\\x1F]'},V='\\"',W={type:"literal",value:'\\"',description:'"\\\\\\""'},X=function(){return'"'},Y="\\\\",tt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},rt=function(){return"\\"},et="\\/",nt={type:"literal",value:"\\/",description:'"\\\\/"'},it=function(){return"/"},ut="\\b",ot={type:"literal",value:"\\b",description:'"\\\\b"'},ct=function(){return"\b"},at="\\f",st={type:"literal",value:"\\f",description:'"\\\\f"'},lt=function(){return"\f"},ft="\\n",pt={type:"literal",value:"\\n",description:'"\\\\n"'},ht=function(){return"\n"},dt="\\r",vt={type:"literal",value:"\\r",description:'"\\\\r"'},At=function(){return"\r"},yt="\\t",gt={type:"literal",value:"\\t",description:'"\\\\t"'},mt=function(){return"\t"},xt="\\u",Ct={type:"literal",value:"\\u",description:'"\\\\u"'},bt=function(t,r,e,n){return String.fromCharCode(parseInt("0x"+t+r+e+n))},Ft=/^[^'\\\0-\x1F]/,jt={type:"class",value:"[^'\\\\\\0-\\x1F]",description:"[^'\\\\\\0-\\x1F]"},wt="\\'",Ot={type:"literal",value:"\\'",description:'"\\\\\'"'},St=function(){return"'"},Rt={type:"other",description:"key"},Et=/^[a-zA-Z0-9_$\-]/,$t={type:"class",value:"[a-zA-Z0-9_$\\-]",description:"[a-zA-Z0-9_$\\-]"},Nt=function(t){return t.join("")},zt=/^[^,}\]]/,Zt={type:"class",value:"[^,}\\]]",description:"[^,}\\]]"},_t={type:"other",description:"number"},kt=function(t,r,e,n){return 0===n.length?parseFloat(t+r+e):(t+r+e+n.join("")).trim()},qt=function(t,r,e){return 0===e.length?parseFloat(t+r):(t+r+e.join("")).trim()},Jt=function(t,r,e){return 0===e.length?parseFloat(t+r):(t+r+e.join("")).trim()},Pt=function(t,r){return 0===r.length?parseFloat(t):(t+r.join("")).trim()},Bt=function(t,r){return t+r},It="-",Ut={type:"literal",value:"-",description:'"-"'},Dt=function(t,r){return"-"+t+r},Gt=function(t){return"-"+t},Ht=".",Kt={type:"literal",value:".",description:'"."'},Lt=function(t){return"."+t},Mt=function(t,r){return t+r},Qt=function(t){return t.join("")},Tt=/^[eE]/,Vt={type:"class",value:"[eE]",description:"[eE]"},Wt=/^[+\-]/,Xt={type:"class",value:"[+\\-]",description:"[+\\-]"},Yt=function(t,r){return t+(r||"")},tr=/^[0-9]/,rr={type:"class",value:"[0-9]",description:"[0-9]"},er=/^[1-9]/,nr={type:"class",value:"[1-9]",description:"[1-9]"},ir=/^[0-9a-fA-F]/,ur={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},or={type:"other",description:"whitespace"},cr=/^[ \t\n\r]/,ar={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},sr=0,lr=0,fr={line:1,column:1,seenCR:!1},pr=0,hr=[],dr=0;if("startRule"in r){if(!(r.startRule in e))throw new Error("Can't start parsing from rule \""+r.startRule+'".');n=e[r.startRule]}function vr(t){return lr!==t&&(t<lr&&(fr={line:1,column:1,seenCR:!(lr=0)}),function(t,r,e){for(var n,i=r;i<e;i++)"\n"===(n=a.charAt(i))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(fr,lr,t),lr=t),fr}function Ar(t){sr<pr||(pr<sr&&(pr=sr,hr=[]),hr.push(t))}function yr(t,r,e){var n=vr(e),i=e<a.length?a.charAt(e):null;return null!==r&&function(t){var r=1;for(t.sort(function(t,r){return t.description<r.description?-1:t.description>r.description?1:0});r<t.length;)t[r-1]===t[r]?t.splice(r,1):r++}(r),new Br(null!==t?t:function(t,r){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n].description;function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}return"Expected "+(1<t.length?e.slice(0,-1).join(", ")+" or "+e[t.length-1]:e[0])+" but "+(r?'"'+r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+i(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+i(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+i(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+i(t)})+'"':"end of input")+" found."}(r,i),r,i,e,n.line,n.column)}function gr(){var t,r=sr,e=kr();return(r=e!==s&&(t=mr())!==s?e=i(t):(sr=r,l))===s&&(r=sr,r=(e=kr())!==s&&(t=Cr())!==s?e=u(t):(sr=r,l)),r}function mr(){var t,r,e,n=sr;return 123===a.charCodeAt(sr)?(t=o,sr++):(t=s,0===dr&&Ar(c)),(n=t!==s&&kr()!==s?(125===a.charCodeAt(sr)?(r=f,sr++):(r=s,0===dr&&Ar(p)),r!==s&&(e=kr())!==s?t=h():(sr=n,l)):(sr=n,l))===s&&(n=sr,123===a.charCodeAt(sr)?(t=o,sr++):(t=s,0===dr&&Ar(c)),n=t!==s&&kr()!==s&&(r=function(){var t,r,e,n,i,u,o,c;t=sr,44===a.charCodeAt(sr)?(r=A,sr++):(r=s,0===dr&&Ar(y));r===s&&(r=v);if(r!==s)if((e=xr())===s&&(e=v),e!==s){for(n=[],i=sr,44===a.charCodeAt(sr)?(u=A,sr++):(u=s,0===dr&&Ar(y)),i=u!==s?(o=kr())!==s?(c=xr())!==s?u=[u,o,c]:(sr=i,l):(sr=i,l):(sr=i,l);i!==s;)n.push(i),i=sr,44===a.charCodeAt(sr)?(u=A,sr++):(u=s,0===dr&&Ar(y)),i=u!==s?(o=kr())!==s?(c=xr())!==s?u=[u,o,c]:(sr=i,l):(sr=i,l):(sr=i,l);t=n!==s?(44===a.charCodeAt(sr)?(i=A,sr++):(i=s,0===dr&&Ar(y)),i===s&&(i=v),i!==s?(u=kr())!==s?r=g(e,n):(sr=t,l):(sr=t,l)):(sr=t,l)}else sr=t,t=l;else sr=t,t=l;return t}())!==s?(125===a.charCodeAt(sr)?(e=f,sr++):(e=s,0===dr&&Ar(p)),e!==s&&kr()!==s?t=d(r):(sr=n,l)):(sr=n,l)),n}function xr(){var t,r,e=sr,n=function(){var t,r,e;if(dr++,(t=Fr())===s&&(t=jr())===s){if(t=sr,r=[],Et.test(a.charAt(sr))?(e=a.charAt(sr),sr++):(e=s,0===dr&&Ar($t)),e!==s)for(;e!==s;)r.push(e),Et.test(a.charAt(sr))?(e=a.charAt(sr),sr++):(e=s,0===dr&&Ar($t));else r=l;r!==s&&(r=Nt(r)),t=r}dr--,t===s&&(r=s,0===dr&&Ar(Rt));return t}();return e=n!==s&&kr()!==s?(58===a.charCodeAt(sr)?(t=m,sr++):(t=s,0===dr&&Ar(x)),t!==s&&kr()!==s&&(r=br())!==s?C(n,r):(sr=e,l)):(sr=e,l)}function Cr(){var t,r,e,n=sr;return 91===a.charCodeAt(sr)?(t=b,sr++):(t=s,0===dr&&Ar(F)),(n=t!==s&&kr()!==s?(93===a.charCodeAt(sr)?(r=j,sr++):(r=s,0===dr&&Ar(w)),r!==s&&(e=kr())!==s?t=O():(sr=n,l)):(sr=n,l))===s&&(n=sr,91===a.charCodeAt(sr)?(t=b,sr++):(t=s,0===dr&&Ar(F)),n=t!==s&&kr()!==s&&(r=function(){var t,r,e,n,i,u,o,c;t=sr,44===a.charCodeAt(sr)?(r=A,sr++):(r=s,0===dr&&Ar(y));r===s&&(r=v);if(r!==s)if((e=br())===s&&(e=v),e!==s){for(n=[],i=sr,44===a.charCodeAt(sr)?(u=A,sr++):(u=s,0===dr&&Ar(y)),i=u!==s?(o=kr())!==s?(c=br())!==s?u=[u,o,c]:(sr=i,l):(sr=i,l):(sr=i,l);i!==s;)n.push(i),i=sr,44===a.charCodeAt(sr)?(u=A,sr++):(u=s,0===dr&&Ar(y)),i=u!==s?(o=kr())!==s?(c=br())!==s?u=[u,o,c]:(sr=i,l):(sr=i,l):(sr=i,l);t=n!==s?(44===a.charCodeAt(sr)?(i=A,sr++):(i=s,0===dr&&Ar(y)),i===s&&(i=v),i!==s?(u=kr())!==s?r=R(e,n):(sr=t,l):(sr=t,l)):(sr=t,l)}else sr=t,t=l;else sr=t,t=l;return t}())!==s?(93===a.charCodeAt(sr)?(e=j,sr++):(e=s,0===dr&&Ar(w)),e!==s&&kr()!==s?t=S(r):(sr=n,l)):(sr=n,l)),n}function br(){var t,r=Fr();return r===s&&(r=jr())===s&&(r=mr())===s&&(r=Cr())===s&&(r=sr,a.substr(sr,4)===E?(t=E,sr+=4):(t=s,0===dr&&Ar($)),(r=t!==s&&kr()!==s?t=N():(sr=r,l))===s&&(r=sr,a.substr(sr,5)===z?(t=z,sr+=5):(t=s,0===dr&&Ar(Z)),(r=t!==s&&kr()!==s?t=_():(sr=r,l))===s&&(r=sr,a.substr(sr,4)===k?(t=k,sr+=4):(t=s,0===dr&&Ar(q)),(r=t!==s&&kr()!==s?t=J():(sr=r,l))===s&&(r=function(){var t,r,e,n,i,u,o;if(dr++,t=sr,(r=Rr())!==s)if((e=Er())!==s)if((n=$r())!==s)if((i=kr())!==s){for(u=[],o=Sr();o!==s;)u.push(o),o=Sr();t=u!==s?r=kt(r,e,n,u):(sr=t,l)}else sr=t,t=l;else sr=t,t=l;else sr=t,t=l;else sr=t,t=l;if(t===s){if(t=sr,(r=Rr())!==s)if((e=Er())!==s)if((n=kr())!==s){for(i=[],u=Sr();u!==s;)i.push(u),u=Sr();t=i!==s?r=qt(r,e,i):(sr=t,l)}else sr=t,t=l;else sr=t,t=l;else sr=t,t=l;if(t===s){if(t=sr,(r=Rr())!==s)if((e=$r())!==s)if((n=kr())!==s){for(i=[],u=Sr();u!==s;)i.push(u),u=Sr();t=i!==s?r=Jt(r,e,i):(sr=t,l)}else sr=t,t=l;else sr=t,t=l;else sr=t,t=l;if(t===s)if(t=sr,(r=Rr())!==s)if((e=kr())!==s){for(n=[],i=Sr();i!==s;)n.push(i),i=Sr();t=n!==s?r=Pt(r,n):(sr=t,l)}else sr=t,t=l;else sr=t,t=l}}dr--,t===s&&(r=s,0===dr&&Ar(_t));return t}())===s&&(r=sr,(t=function(){var t,r;if(t=[],(r=Sr())!==s)for(;r!==s;)t.push(r),r=Sr();else t=l;return t}())!==s&&(t=P(t)),r=t)))),r}function Fr(){var t,r,e,n;return dr++,t=sr,34===a.charCodeAt(sr)?(r=I,sr++):(r=s,0===dr&&Ar(U)),(t=r!==s?(34===a.charCodeAt(sr)?(e=I,sr++):(e=s,0===dr&&Ar(U)),e!==s&&(n=kr())!==s?r=D():(sr=t,l)):(sr=t,l))===s&&(t=sr,34===a.charCodeAt(sr)?(r=I,sr++):(r=s,0===dr&&Ar(U)),t=r!==s&&(e=function(){var t,r,e;if(t=sr,r=[],(e=wr())!==s)for(;e!==s;)r.push(e),e=wr();else r=l;r!==s&&(r=M(r));return t=r}())!==s?(34===a.charCodeAt(sr)?(n=I,sr++):(n=s,0===dr&&Ar(U)),n!==s&&kr()!==s?r=G(e):(sr=t,l)):(sr=t,l)),dr--,t===s&&(r=s,0===dr&&Ar(B)),t}function jr(){var t,r,e,n;return dr++,t=sr,39===a.charCodeAt(sr)?(r=K,sr++):(r=s,0===dr&&Ar(L)),(t=r!==s?(39===a.charCodeAt(sr)?(e=K,sr++):(e=s,0===dr&&Ar(L)),e!==s&&(n=kr())!==s?r=D():(sr=t,l)):(sr=t,l))===s&&(t=sr,39===a.charCodeAt(sr)?(r=K,sr++):(r=s,0===dr&&Ar(L)),t=r!==s&&(e=function(){var t,r,e;if(t=sr,r=[],(e=Or())!==s)for(;e!==s;)r.push(e),e=Or();else r=l;r!==s&&(r=M(r));return t=r}())!==s?(39===a.charCodeAt(sr)?(n=K,sr++):(n=s,0===dr&&Ar(L)),n!==s&&kr()!==s?r=G(e):(sr=t,l)):(sr=t,l)),dr--,t===s&&(r=s,0===dr&&Ar(H)),t}function wr(){var t,r,e,n,i,u;return Q.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(T)),t===s&&(t=sr,a.substr(sr,2)===V?(r=V,sr+=2):(r=s,0===dr&&Ar(W)),r!==s&&(r=X()),(t=r)===s&&(t=sr,a.substr(sr,2)===Y?(r=Y,sr+=2):(r=s,0===dr&&Ar(tt)),r!==s&&(r=rt()),(t=r)===s&&(t=sr,a.substr(sr,2)===et?(r=et,sr+=2):(r=s,0===dr&&Ar(nt)),r!==s&&(r=it()),(t=r)===s&&(t=sr,a.substr(sr,2)===ut?(r=ut,sr+=2):(r=s,0===dr&&Ar(ot)),r!==s&&(r=ct()),(t=r)===s&&(t=sr,a.substr(sr,2)===at?(r=at,sr+=2):(r=s,0===dr&&Ar(st)),r!==s&&(r=lt()),(t=r)===s&&(t=sr,a.substr(sr,2)===ft?(r=ft,sr+=2):(r=s,0===dr&&Ar(pt)),r!==s&&(r=ht()),(t=r)===s&&(t=sr,a.substr(sr,2)===dt?(r=dt,sr+=2):(r=s,0===dr&&Ar(vt)),r!==s&&(r=At()),(t=r)===s&&(t=sr,a.substr(sr,2)===yt?(r=yt,sr+=2):(r=s,0===dr&&Ar(gt)),r!==s&&(r=mt()),(t=r)===s&&(t=sr,a.substr(sr,2)===xt?(r=xt,sr+=2):(r=s,0===dr&&Ar(Ct)),t=r!==s&&(e=_r())!==s&&(n=_r())!==s&&(i=_r())!==s&&(u=_r())!==s?r=bt(e,n,i,u):(sr=t,l)))))))))),t}function Or(){var t,r,e,n,i,u;return Ft.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(jt)),t===s&&(t=sr,a.substr(sr,2)===wt?(r=wt,sr+=2):(r=s,0===dr&&Ar(Ot)),r!==s&&(r=St()),(t=r)===s&&(t=sr,a.substr(sr,2)===Y?(r=Y,sr+=2):(r=s,0===dr&&Ar(tt)),r!==s&&(r=rt()),(t=r)===s&&(t=sr,a.substr(sr,2)===et?(r=et,sr+=2):(r=s,0===dr&&Ar(nt)),r!==s&&(r=it()),(t=r)===s&&(t=sr,a.substr(sr,2)===ut?(r=ut,sr+=2):(r=s,0===dr&&Ar(ot)),r!==s&&(r=ct()),(t=r)===s&&(t=sr,a.substr(sr,2)===at?(r=at,sr+=2):(r=s,0===dr&&Ar(st)),r!==s&&(r=lt()),(t=r)===s&&(t=sr,a.substr(sr,2)===ft?(r=ft,sr+=2):(r=s,0===dr&&Ar(pt)),r!==s&&(r=ht()),(t=r)===s&&(t=sr,a.substr(sr,2)===dt?(r=dt,sr+=2):(r=s,0===dr&&Ar(vt)),r!==s&&(r=At()),(t=r)===s&&(t=sr,a.substr(sr,2)===yt?(r=yt,sr+=2):(r=s,0===dr&&Ar(gt)),r!==s&&(r=mt()),(t=r)===s&&(t=sr,a.substr(sr,2)===xt?(r=xt,sr+=2):(r=s,0===dr&&Ar(Ct)),t=r!==s&&(e=_r())!==s&&(n=_r())!==s&&(i=_r())!==s&&(u=_r())!==s?r=bt(e,n,i,u):(sr=t,l)))))))))),t}function Sr(){var t;return zt.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(Zt)),t}function Rr(){var t,r,e=sr,n=Zr();return(e=n!==s&&(t=Nr())!==s?n=Bt(n,t):(sr=e,l))===s&&(e=zr())===s&&(e=sr,45===a.charCodeAt(sr)?(n=It,sr++):(n=s,0===dr&&Ar(Ut)),(e=n!==s&&(t=Zr())!==s&&(r=Nr())!==s?n=Dt(t,r):(sr=e,l))===s&&(e=sr,45===a.charCodeAt(sr)?(n=It,sr++):(n=s,0===dr&&Ar(Ut)),e=n!==s&&(t=zr())!==s?n=Gt(t):(sr=e,l))),e}function Er(){var t,r,e=sr;return 46===a.charCodeAt(sr)?(t=Ht,sr++):(t=s,0===dr&&Ar(Kt)),e=t!==s&&(r=Nr())!==s?t=Lt(r):(sr=e,l)}function $r(){var t,r=sr,e=function(){var t,r,e;t=sr,Tt.test(a.charAt(sr))?(r=a.charAt(sr),sr++):(r=s,0===dr&&Ar(Vt));t=r!==s?(Wt.test(a.charAt(sr))?(e=a.charAt(sr),sr++):(e=s,0===dr&&Ar(Xt)),e===s&&(e=v),e!==s?r=Yt(r,e):(sr=t,l)):(sr=t,l);return t}();return r=e!==s&&(t=Nr())!==s?Mt(e,t):(sr=r,l)}function Nr(){var t=sr,r=[],e=zr();if(e!==s)for(;e!==s;)r.push(e),e=zr();else r=l;return r!==s&&(r=Qt(r)),t=r}function zr(){var t;return tr.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(rr)),t}function Zr(){var t;return er.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(nr)),t}function _r(){var t;return ir.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(ur)),t}function kr(){var t,r;for(dr++,t=[],r=qr();r!==s;)t.push(r),r=qr();return dr--,t===s&&(r=s,0===dr&&Ar(or)),t}function qr(){var t;return cr.test(a.charAt(sr))?(t=a.charAt(sr),sr++):(t=s,0===dr&&Ar(ar)),t}var Jr=new Object;function Pr(t){return t===Jr?null:t}if((t=n())!==s&&sr===a.length)return t;throw t!==s&&sr<a.length&&Ar({type:"end",description:"end of input"}),yr(null,hr,pr)}});function Br(t,r,e,n,i,u){this.message=t,this.expected=r,this.found=e,this.offset=n,this.line=i,this.column=u,this.name="SyntaxError"}function o(){this.constructor=n}e.stringify=function(r,t){try{var t=t||{},e={};e.showfunc=t.showfunc||t.f||!1,e.custom=t.custom||t.c||!1,e.depth=t.depth||t.d||3,e.maxitems=t.maxitems||t.mi||11,e.maxchars=t.maxchars||t.mc||111,e.exclude=t.exclude||t.x||["$"];var n=t.omit||t.o||[];e.omit={};for(var i=0;i<n.length;i++)e.omit[n[i]]=!0;var u=function t(r,e,n){if(n++,null==r)return"null";var i=Object.prototype.toString.call(r).charAt(8);if("F"===i&&!e.showfunc)return null;if(e.custom){if(r.hasOwnProperty("toString"))return r.toString();if(r.hasOwnProperty("inspect"))return r.inspect()}var u,o,c=0;if("N"===i)return isNaN(r)?"null":r.toString();if("O"===i){if(u=[],n<=e.depth)for(c in o=0,r){if(o>=e.maxitems)break;for(var a,s,l=!0,f=0;f<e.exclude.length&&l;f++)l=!~c.indexOf(e.exclude[f]);l=l&&!e.omit[c],null!=(a=t(r[c],e,n))&&l&&(s=c.match(/^[a-zA-Z0-9_$]+$/)?c:JSON.stringify(c),u.push(s+":"+a),o++)}return"{"+u.join(",")+"}"}if("A"===i){if(u=[],n<=e.depth)for(;c<r.length&&c<e.maxitems;c++)null!=(a=t(r[c],e,n))&&u.push(a);return"["+u.join(",")+"]"}var p=r.toString();return!~" \"'\r\n\t,}]".indexOf(p[0])&&~p.match(/,}]/)&&!~" \r\n\t".indexOf(p[p.length-1])||(p="'"+p.replace(/'/g,"\\'")+"'"),p}(r,e,0);return u=null==u?"":u.substring(0,e.maxchars)}catch(t){return"ERROR: jsonic.stringify: "+t+" input was: "+JSON.stringify(r)}},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.jsonic=e):t.jsonic=e}).call(this);