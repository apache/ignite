
<panel-collapsible ng-form="affinity" on-open="ui.loadPanel('affinity')">
  <panel-title>Affinity Collocation</panel-title>
  <panel-description>Collocate data with data to improve performance and scalability of your application.<a class="link-success" href="https://apacheignite.readme.io/docs/affinity-collocation" target="_blank">More info</a></panel-description>
  <panel-content class="pca-form-row" ng-if="ui.isPanelLoaded('affinity')">
    <div class="pca-form-column-6 pc-form-grid-row">
      <div class="pc-form-grid-col-60" ng-if="$ctrl.available([&quot;1.0.0&quot;, &quot;2.0.0&quot;])">
        <div class="form-field form-field__dropdown ignite-form-field" id="{{ &quot;AffinityKind&quot; }}Field">
          <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;AffinityKind&quot; }}Label" for="{{ &quot;AffinityKind&quot; }}Input"><span>Function:</span>
            <svg ignite-icon="info" bs-tooltip="" data-title="Key topology resolver to provide mapping from keys to nodes&lt;br/&gt;                                        &lt;ul&gt;                                            &lt;li&gt;Rendezvous - Based on Highest Random Weight algorithm&lt;/li&gt;                                            &lt;li&gt;Fair - Tries to ensure that all nodes get equal number of partitions with minimum amount of reassignments between existing nodes&lt;/li&gt;                                            &lt;li&gt;Custom - Custom implementation of key affinity fynction&lt;/li&gt;                                            &lt;li&gt;Default - By default rendezvous affinity function  with 1024 partitions is used&lt;/li&gt;                                        &lt;/ul&gt;" data-placement="auto"></svg>
          </label>
          <div class="form-field__control">
            <select id="{{ &quot;AffinityKind&quot; }}Input" name="{{ &quot;AffinityKind&quot; }}" ng-model="$ctrl.clonedCache.affinity.kind" ng-ref="$input" ng-ref-read="ngModel">
              <option value="" hidden="hidden" translate="Default"></option>
              <option ng-repeat="item in affinityFunction track by item.value" ng-value="item.value" ng-bind="item.label"></option>
            </select>
          </div>
          <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
          </div>
        </div>
      </div>
      <div class="pc-form-grid-col-60" ng-if="$ctrl.available(&quot;2.0.0&quot;)">
        <div class="form-field form-field__dropdown ignite-form-field" id="{{ &quot;AffinityKind&quot; }}Field">
          <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;AffinityKind&quot; }}Label" for="{{ &quot;AffinityKind&quot; }}Input"><span>Function:</span>
            <svg ignite-icon="info" bs-tooltip="" data-title="Key topology resolver to provide mapping from keys to nodes&lt;br/&gt;                                       &lt;ul&gt;                                           &lt;li&gt;Rendezvous - Based on Highest Random Weight algorithm&lt;/li&gt;                                           &lt;li&gt;Custom - Custom implementation of key affinity fynction&lt;/li&gt;                                           &lt;li&gt;Default - By default rendezvous affinity function  with 1024 partitions is used&lt;/li&gt;                                       &lt;/ul&gt;" data-placement="auto"></svg>
          </label>
          <div class="form-field__control">
            <select id="{{ &quot;AffinityKind&quot; }}Input" name="{{ &quot;AffinityKind&quot; }}" ng-model="$ctrl.clonedCache.affinity.kind" ng-ref="$input" ng-ref-read="ngModel">
              <option value="" hidden="hidden" translate="Default"></option>
              <option ng-repeat="item in affinityFunction track by item.value" ng-value="item.value" ng-bind="item.label"></option>
            </select>
          </div>
          <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
          </div>
        </div>
      </div>
      <div class="pc-form-group">
        <div class="pc-form-grid-row" ng-if="$ctrl.clonedCache.affinity.kind === &quot;Rendezvous&quot;">
          <div class="pc-form-grid-col-60">
            <div class="form-field ignite-form-field">
              <label class="form-field__label {{ $ctrl.clonedCache.affinity.kind === &quot;Rendezvous&quot; &amp;&amp; $ctrl.clonedCache.affinity.Rendezvous.affinityBackupFilter ? 'required' : '' }}" id="{{ &quot;RendPartitions&quot; }}Label" for="{{ &quot;RendPartitions&quot; }}Input"><span>Partitions</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Number of partitions" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;RendPartitions&quot; }}Input" name="{{ &quot;RendPartitions&quot; }}" translate-attr="{placeholder: &quot;1024&quot;}" ng-model="$ctrl.clonedCache.affinity.Rendezvous.partitions" ng-required="$ctrl.clonedCache.affinity.kind === &quot;Rendezvous&quot; &amp;&amp; $ctrl.clonedCache.affinity.Rendezvous.affinityBackupFilter" ng-ref="$input" ng-ref-read="ngModel" type="number" min="1" max="{{ Number.MAX_VALUE }}" step="1"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
                <div class="form-field__error" ng-message="required">
                  <div>Partitions could not be empty!</div>
                  <div bs-tooltip="" data-title="Partitions could not be empty!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="min">
                  <div>Partitions is less than allowable minimum: 1</div>
                  <div bs-tooltip="" data-title="Partitions is less than allowable minimum: 1" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="max">
                  <div>Partitions is more than allowable maximum: undefined</div>
                  <div bs-tooltip="" data-title="Partitions is more than allowable maximum: undefined" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="step">
                  <div>Partitions step should be 1</div>
                  <div bs-tooltip="" data-title="Partitions step should be 1" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="number">
                  <div>Only numbers allowed</div>
                  <div bs-tooltip="" data-title="Only numbers allowed" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
              </div>
            </div>
          </div>
          <div class="pc-form-grid-col-60">
            <div class="form-field form-field__text ignite-form-field" id="{{ &quot;RendAffinityBackupFilter&quot; }}Field">
              <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;RendAffinityBackupFilter&quot; }}Label" for="{{ &quot;RendAffinityBackupFilter&quot; }}Input"><span>Backup filter</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Backups will be selected from all nodes that pass this filter" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;RendAffinityBackupFilter&quot; }}Input" name="{{ &quot;RendAffinityBackupFilter&quot; }}" translate-attr="{placeholder: &quot;Enter fully qualified class name&quot;}" ng-model="$ctrl.clonedCache.affinity.Rendezvous.affinityBackupFilter" ng-ref="$input" ng-ref-read="ngModel" data-java-identifier="true" data-java-package-specified="true" data-java-keywords="true" data-java-built-in-class="true" data-validation-active="'always'" type="text"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
                <div class="form-field__error" ng-message="javaBuiltInClass">
                  <div>Backup filte should not be the Java built-in class!</div>
                  <div bs-tooltip="" data-title="Backup filte should not be the Java built-in class!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaKeywords">
                  <div>Backup filte could not contains reserved Java keyword!</div>
                  <div bs-tooltip="" data-title="Backup filte could not contains reserved Java keyword!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaPackageSpecified">
                  <div>Backup filte does not have package specified!</div>
                  <div bs-tooltip="" data-title="Backup filte does not have package specified!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaIdentifier">
                  <div>Backup filte is invalid Java identifier!</div>
                  <div bs-tooltip="" data-title="Backup filte is invalid Java identifier!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
              </div>
            </div>
          </div>
          <div class="pc-form-grid-col-60">
            <div class="form-field ignite-form-field form-field__checkbox" id="{{ &quot;RendExcludeNeighbors&quot; }}Field">
              <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;RendExcludeNeighbors&quot; }}Label" for="{{ &quot;RendExcludeNeighbors&quot; }}Input"><span>Exclude neighbors</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Exclude same - host - neighbors from being backups of each other and specified number of backups" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;RendExcludeNeighbors&quot; }}Input" name="{{ &quot;RendExcludeNeighbors&quot; }}" translate-attr="{placeholder: &quot;undefined&quot;}" ng-model="$ctrl.clonedCache.affinity.Rendezvous.excludeNeighbors" ng-ref="$input" ng-ref-read="ngModel" type="checkbox"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
              </div>
            </div>
          </div>
        </div>
        <div class="pc-form-grid-row" ng-if="$ctrl.clonedCache.affinity.kind === &quot;Fair&quot;">
          <div class="pc-form-grid-col-60">
            <div class="form-field ignite-form-field">
              <label class="form-field__label {{ $ctrl.clonedCache.affinity.kind === &quot;Fair&quot; &amp;&amp; $ctrl.clonedCache.affinity.Fair.affinityBackupFilter ? 'required' : '' }}" id="{{ &quot;FairPartitions&quot; }}Label" for="{{ &quot;FairPartitions&quot; }}Input"><span>Partitions</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Number of partitions" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;FairPartitions&quot; }}Input" name="{{ &quot;FairPartitions&quot; }}" translate-attr="{placeholder: &quot;256&quot;}" ng-model="$ctrl.clonedCache.affinity.Fair.partitions" ng-required="$ctrl.clonedCache.affinity.kind === &quot;Fair&quot; &amp;&amp; $ctrl.clonedCache.affinity.Fair.affinityBackupFilter" ng-ref="$input" ng-ref-read="ngModel" type="number" min="1" max="{{ Number.MAX_VALUE }}" step="1"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
                <div class="form-field__error" ng-message="required">
                  <div>Partitions could not be empty!</div>
                  <div bs-tooltip="" data-title="Partitions could not be empty!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="min">
                  <div>Partitions is less than allowable minimum: 1</div>
                  <div bs-tooltip="" data-title="Partitions is less than allowable minimum: 1" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="max">
                  <div>Partitions is more than allowable maximum: undefined</div>
                  <div bs-tooltip="" data-title="Partitions is more than allowable maximum: undefined" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="step">
                  <div>Partitions step should be 1</div>
                  <div bs-tooltip="" data-title="Partitions step should be 1" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="number">
                  <div>Only numbers allowed</div>
                  <div bs-tooltip="" data-title="Only numbers allowed" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
              </div>
            </div>
          </div>
          <div class="pc-form-grid-col-60">
            <div class="form-field form-field__text ignite-form-field" id="{{ &quot;FairAffinityBackupFilter&quot; }}Field">
              <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;FairAffinityBackupFilter&quot; }}Label" for="{{ &quot;FairAffinityBackupFilter&quot; }}Input"><span>Backup filter</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Backups will be selected from all nodes that pass this filter" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;FairAffinityBackupFilter&quot; }}Input" name="{{ &quot;FairAffinityBackupFilter&quot; }}" translate-attr="{placeholder: &quot;Enter fully qualified class name&quot;}" ng-model="$ctrl.clonedCache.affinity.Fair.affinityBackupFilter" ng-ref="$input" ng-ref-read="ngModel" data-java-identifier="true" data-java-package-specified="true" data-java-keywords="true" data-java-built-in-class="true" data-validation-active="'always'" type="text"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
                <div class="form-field__error" ng-message="javaBuiltInClass">
                  <div>Backup filte should not be the Java built-in class!</div>
                  <div bs-tooltip="" data-title="Backup filte should not be the Java built-in class!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaKeywords">
                  <div>Backup filte could not contains reserved Java keyword!</div>
                  <div bs-tooltip="" data-title="Backup filte could not contains reserved Java keyword!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaPackageSpecified">
                  <div>Backup filte does not have package specified!</div>
                  <div bs-tooltip="" data-title="Backup filte does not have package specified!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaIdentifier">
                  <div>Backup filte is invalid Java identifier!</div>
                  <div bs-tooltip="" data-title="Backup filte is invalid Java identifier!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
              </div>
            </div>
          </div>
          <div class="pc-form-grid-col-60">
            <div class="form-field ignite-form-field form-field__checkbox" id="{{ &quot;FairExcludeNeighbors&quot; }}Field">
              <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;FairExcludeNeighbors&quot; }}Label" for="{{ &quot;FairExcludeNeighbors&quot; }}Input"><span>Exclude neighbors</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Exclude same - host - neighbors from being backups of each other and specified number of backups" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;FairExcludeNeighbors&quot; }}Input" name="{{ &quot;FairExcludeNeighbors&quot; }}" translate-attr="{placeholder: &quot;undefined&quot;}" ng-model="$ctrl.clonedCache.affinity.Fair.excludeNeighbors" ng-ref="$input" ng-ref-read="ngModel" type="checkbox"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
              </div>
            </div>
          </div>
        </div>
        <div class="pc-form-grid-row" ng-if="$ctrl.clonedCache.affinity.kind === &quot;Custom&quot;">
          <div class="pc-form-grid-col-60">
            <div class="form-field form-field__text ignite-form-field" id="{{ &quot;AffCustomClassName&quot; }}Field">
              <label class="form-field__label {{ $ctrl.clonedCache.affinity.kind === &quot;Custom&quot; ? 'required' : '' }}" id="{{ &quot;AffCustomClassName&quot; }}Label" for="{{ &quot;AffCustomClassName&quot; }}Input"><span>Class name:</span>
                <svg ignite-icon="info" bs-tooltip="" data-title="Custom key affinity function implementation class name" data-placement="auto"></svg>
              </label>
              <div class="form-field__control">
                <input id="{{ &quot;AffCustomClassName&quot; }}Input" name="{{ &quot;AffCustomClassName&quot; }}" translate-attr="{placeholder: &quot;Enter fully qualified class name&quot;}" ng-model="$ctrl.clonedCache.affinity.Custom.className" ng-required="$ctrl.clonedCache.affinity.kind === &quot;Custom&quot;" ng-ref="$input" ng-ref-read="ngModel" data-java-identifier="true" data-java-package-specified="true" data-java-keywords="true" data-java-built-in-class="true" data-validation-active="'always'" type="text"/>
              </div>
              <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
                <div class="form-field__error" ng-message="required">
                  <div>Class name could not be empty!</div>
                  <div bs-tooltip="" data-title="Class name could not be empty!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaBuiltInClass">
                  <div>Class name should not be the Java built-in class!</div>
                  <div bs-tooltip="" data-title="Class name should not be the Java built-in class!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaKeywords">
                  <div>Class name could not contains reserved Java keyword!</div>
                  <div bs-tooltip="" data-title="Class name could not contains reserved Java keyword!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaPackageSpecified">
                  <div>Class name does not have package specified!</div>
                  <div bs-tooltip="" data-title="Class name does not have package specified!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
                <div class="form-field__error" ng-message="javaIdentifier">
                  <div>Class name is invalid Java identifier!</div>
                  <div bs-tooltip="" data-title="Class name is invalid Java identifier!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
                  <svg ignite-icon="exclamation"></svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pc-form-grid-col-60">
        <div class="form-field form-field__text ignite-form-field" id="{{ &quot;AffMapCustomClassName&quot; }}Field">
          <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;AffMapCustomClassName&quot; }}Label" for="{{ &quot;AffMapCustomClassName&quot; }}Input"><span>Mapper:</span>
            <svg ignite-icon="info" bs-tooltip="" data-title="Provide custom affinity key for any given key" data-placement="auto"></svg>
          </label>
          <div class="form-field__control">
            <input id="{{ &quot;AffMapCustomClassName&quot; }}Input" name="{{ &quot;AffMapCustomClassName&quot; }}" translate-attr="{placeholder: &quot;Enter fully qualified class name&quot;}" ng-model="$ctrl.clonedCache.affinityMapper" ng-ref="$input" ng-ref-read="ngModel" data-java-identifier="true" data-java-package-specified="true" data-java-keywords="true" data-java-built-in-class="true" data-validation-active="'always'" type="text"/>
          </div>
          <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
            <div class="form-field__error" ng-message="javaBuiltInClass">
              <div>Mapper should not be the Java built-in class!</div>
              <div bs-tooltip="" data-title="Mapper should not be the Java built-in class!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
            <div class="form-field__error" ng-message="javaKeywords">
              <div>Mapper could not contains reserved Java keyword!</div>
              <div bs-tooltip="" data-title="Mapper could not contains reserved Java keyword!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
            <div class="form-field__error" ng-message="javaPackageSpecified">
              <div>Mapper does not have package specified!</div>
              <div bs-tooltip="" data-title="Mapper does not have package specified!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
            <div class="form-field__error" ng-message="javaIdentifier">
              <div>Mapper is invalid Java identifier!</div>
              <div bs-tooltip="" data-title="Mapper is invalid Java identifier!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
          </div>
        </div>
      </div>
      <div class="pc-form-grid-col-60" ng-if="$ctrl.available(&quot;2.0.0&quot;)">
        <div class="form-field form-field__text ignite-form-field" id="{{ &quot;topologyValidator&quot; }}Field">
          <label class="form-field__label {{ undefined ? 'required' : '' }}" id="{{ &quot;topologyValidator&quot; }}Label" for="{{ &quot;topologyValidator&quot; }}Input"><span>Topology validator:</span>
          </label>
          <div class="form-field__control">
            <input id="{{ &quot;topologyValidator&quot; }}Input" name="{{ &quot;topologyValidator&quot; }}" translate-attr="{placeholder: &quot;Enter fully qualified class name&quot;}" ng-model="$ctrl.clonedCache.topologyValidator" ng-ref="$input" ng-ref-read="ngModel" data-java-identifier="true" data-java-package-specified="true" data-java-keywords="true" data-java-built-in-class="true" data-validation-active="'always'" type="text"/>
          </div>
          <div class="form-field__errors" ng-messages="$input.$error" ng-show="($input.$dirty || $input.$touched || $input.$submitted) &amp;&amp; $input.$invalid">
            <div class="form-field__error" ng-message="javaBuiltInClass">
              <div>Topology validator should not be the Java built-in class!</div>
              <div bs-tooltip="" data-title="Topology validator should not be the Java built-in class!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
            <div class="form-field__error" ng-message="javaKeywords">
              <div>Topology validator could not contains reserved Java keyword!</div>
              <div bs-tooltip="" data-title="Topology validator could not contains reserved Java keyword!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
            <div class="form-field__error" ng-message="javaPackageSpecified">
              <div>Topology validator does not have package specified!</div>
              <div bs-tooltip="" data-title="Topology validator does not have package specified!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
            <div class="form-field__error" ng-message="javaIdentifier">
              <div>Topology validator is invalid Java identifier!</div>
              <div bs-tooltip="" data-title="Topology validator is invalid Java identifier!" data-placement="top" data-template="
                &lt;div class=&quot;tooltip tooltip--error in&quot; ng-show=&quot;title&quot;&gt;
                    &lt;div class=&quot;tooltip-arrow&quot;&gt;&lt;/div&gt;
                    &lt;div class=&quot;tooltip-inner&quot; ng-bind-html=&quot;title&quot;&gt;&lt;/div&gt;
                &lt;/div&gt;"></div>
              <svg ignite-icon="exclamation"></svg>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="pca-form-column-6">
      <ignite-ui-ace-tabs>
        <div class="preview-panel" ng-init="mode = &quot;spring&quot;">
          <div class="preview-legend"><a ng-class="{active: mode === &quot;spring&quot;}" ng-click="mode = &quot;spring&quot;">Spring</a><a ng-class="{active: mode === &quot;java&quot;}" ng-click="mode = &quot;java&quot;">Java</a>
            <!--a(ng-class='{active: mode === "app.config"}' ng-click='mode = "app.config"') app.config-->
          </div>
          <div class="preview-content" ng-switch="mode">
            <ignite-ui-ace-spring ng-switch-when="spring" data-master="$ctrl.clonedCache" data-generator="cacheAffinity" ng-model="$parent.data"></ignite-ui-ace-spring>
            <ignite-ui-ace-java ng-switch-when="java" data-master="$ctrl.clonedCache" data-generator="cacheAffinity" ng-model="$parent.data"></ignite-ui-ace-java>
          </div>
          <div class="preview-content-empty" ng-if="!data">
            <label>All Defaults</label>
          </div>
        </div>
      </ignite-ui-ace-tabs>
    </div>
  </panel-content>
</panel-collapsible>